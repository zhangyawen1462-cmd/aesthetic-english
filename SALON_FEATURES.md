# ğŸ­ Salon æ¨¡å—å®Œæ•´åŠŸèƒ½è¯´æ˜

## âœ¨ å·²å®ç°çš„åŠŸèƒ½

### 1. ä¸‰ç§ AI æ¨¡å¼åˆ‡æ¢

#### ğŸ’¼ Professional Modeï¼ˆä¸“ä¸šæ¨¡å¼ï¼‰
- **é€‚ç”¨åœºæ™¯**ï¼šå•†ä¸šè‹±è¯­ã€èŒåœºæ²Ÿé€š
- **AI äººæ ¼**ï¼šæ­£å¼ã€ç²¾å‡†ã€å•†åŠ¡å¯¼å‘
- **èƒŒæ™¯æ ·å¼**ï¼šæ·±è‰²çº¹ç†èƒŒæ™¯ï¼ˆ`/images/chat-bg/business.jpg`ï¼‰
- **æ¸©åº¦å‚æ•°**ï¼š0.7ï¼ˆç¨³å®šè¾“å‡ºï¼‰
- **å¼€åœºç™½ç¤ºä¾‹**ï¼š
  > "I see you're studying 'XXX'. Let's focus on the professional vocabulary. What business expressions caught your attention?"

#### ğŸ‘‘ Arrogant Modeï¼ˆæŒ‘æˆ˜æ¨¡å¼ï¼‰
- **é€‚ç”¨åœºæ™¯**ï¼šé«˜å¼ºåº¦è®­ç»ƒã€çªç ´èˆ’é€‚åŒº
- **AI äººæ ¼**ï¼šæŒ‘è¡…ã€ä¸¥æ ¼ã€é«˜æ ‡å‡†
- **èƒŒæ™¯æ ·å¼**ï¼šæ·±è‰²æ¸å˜èƒŒæ™¯
- **æ¸©åº¦å‚æ•°**ï¼š0.9ï¼ˆæ›´æœ‰ä¸ªæ€§ï¼‰
- **å¼€åœºç™½ç¤ºä¾‹**ï¼š
  > "So, you're watching 'XXX'. Do you really think you can handle this level of vocabulary? Prove it."

#### ğŸŒ¹ Romantic Modeï¼ˆæ„Ÿæ€§æ¨¡å¼ï¼‰
- **é€‚ç”¨åœºæ™¯**ï¼šè®¤çŸ¥æˆé•¿ã€æ·±åº¦æ€è¾¨
- **AI äººæ ¼**ï¼šè¯—æ„ã€å“²å­¦ã€æƒ…æ„Ÿæ™ºèƒ½
- **èƒŒæ™¯æ ·å¼**ï¼šæ¸©æš–æ¸å˜èƒŒæ™¯
- **æ¸©åº¦å‚æ•°**ï¼š0.85ï¼ˆå¯Œæœ‰è¡¨ç°åŠ›ï¼‰
- **å¼€åœºç™½ç¤ºä¾‹**ï¼š
  > "The atmosphere in 'XXX' is intoxicating, isn't it? Tell me, what emotions does this evoke for you?"

---

### 2. ä¼šå‘˜æƒé™å·®å¼‚åŒ–

| åŠŸèƒ½ | å­£åº¦ä¼šå‘˜ | å¹´åº¦ä¼šå‘˜ | æ°¸ä¹…ä¼šå‘˜ |
|------|---------|---------|---------|
| è¾“å…¥æ¶ˆæ¯ | âœ… | âœ… | âœ… |
| æŸ¥çœ‹ AI å›å¤ | âš ï¸ æ¨¡ç³Š | âœ… æ¸…æ™° | âœ… æ¸…æ™° |
| Better Way çº é”™ | âŒ | âœ… | âœ… |
| æ¨¡å¼åˆ‡æ¢ | âŒ | âŒ | âœ… |
| æ¯æ—¥æ¶ˆæ¯æ•° | 3 æ¡ | 20 æ¡ | æ— é™ |

#### ğŸ”’ å­£åº¦ä¼šå‘˜çš„"å¹½çµè¾“å…¥"ä½“éªŒ
- å¯ä»¥è¾“å…¥å’Œå‘é€æ¶ˆæ¯
- AI ä¼š"å›å¤"ï¼Œä½†å†…å®¹æ˜¯**æ¨¡ç³Šçš„**
- æ˜¾ç¤ºé”å›¾æ ‡ + "Upgrade to View" æç¤º
- **å¿ƒç†å­¦è®¾è®¡**ï¼šè®©ç”¨æˆ·å°åˆ°ç”œå¤´ä½†çœ‹ä¸æ¸…ï¼Œä¿ƒè¿›å‡çº§

---

### 3. æ™ºæ€§åé¦ˆç³»ç»Ÿï¼ˆBetter Wayï¼‰

- AI å›å¤ä¸­å¦‚æœåŒ…å«çº é”™å»ºè®®ï¼Œä¼šæ˜¾ç¤º **"Better Way"** èƒ¶å›Š
- ç‚¹å‡»å±•å¼€æŸ¥çœ‹æ›´ä¼˜é›…çš„è¡¨è¾¾æ–¹å¼
- å¸¦ Sparkles å›¾æ ‡å’Œå¹³æ»‘åŠ¨ç”»
- ä»…å¯¹å¹´åº¦/æ°¸ä¹…ä¼šå‘˜æ˜¾ç¤º

**æå–é€»è¾‘**ï¼š
```typescript
// API ä¼šè‡ªåŠ¨ä» AI å›å¤ä¸­æå–çº æ­£å»ºè®®
const correctionPatterns = [
  /(?:better way|you could say|natives say):?\s*"([^"]+)"/i,
  /(?:instead of|rather than).*?try:?\s*"([^"]+)"/i,
];
```

---

### 4. åŸºäºè§†é¢‘å†…å®¹çš„ä¸Šä¸‹æ–‡å¯¹è¯

æ¯æ¬¡å¯¹è¯éƒ½ä¼šæºå¸¦ï¼š
- **è§†é¢‘æ ‡é¢˜**ï¼ˆä¸­è‹±æ–‡ï¼‰
- **å®Œæ•´å­—å¹•**ï¼ˆå‰ 1000 å­—ç¬¦ï¼‰
- **æ ¸å¿ƒè¯æ±‡è¡¨**ï¼ˆå•è¯ + é‡Šä¹‰ï¼‰
- **å¯¹è¯å†å²**ï¼ˆä¿æŒä¸Šä¸‹æ–‡è¿è´¯ï¼‰

AI ä¼šï¼š
- è‡ªç„¶å¼•ç”¨è§†é¢‘å†…å®¹
- é¼“åŠ±ä½¿ç”¨è§†é¢‘ä¸­çš„è¯æ±‡
- æ ¹æ®è§†é¢‘ä¸»é¢˜è°ƒæ•´å¯¹è¯æ–¹å‘

---

## ğŸ¨ UI/UX ç‰¹ç‚¹

### Instagram DM é£æ ¼
- **é¡¶éƒ¨æ **ï¼šGabby å¤´åƒ + åœ¨çº¿çŠ¶æ€ + æ¨¡å¼å›¾æ ‡
- **æ¶ˆæ¯æ°”æ³¡**ï¼š
  - ç”¨æˆ·æ¶ˆæ¯ï¼šå³å¯¹é½ï¼Œä¸»é¢˜è‰²èƒŒæ™¯ï¼Œå³ä¸‹è§’åˆ‡è§’
  - AI æ¶ˆæ¯ï¼šå·¦å¯¹é½ï¼Œææ·¡èƒŒæ™¯ï¼Œå·¦ä¸‹è§’åˆ‡è§’
- **æ—¶é—´æˆ³**ï¼š9px è¶…å°å­—ä½“ï¼Œ30% é€æ˜åº¦
- **æ¨¡å¼åˆ‡æ¢å™¨**ï¼šå³ä¸Šè§’åˆ·æ–°å›¾æ ‡ï¼Œç‚¹å‡»å±•å¼€æ¨¡å¼é€‰æ‹©é¢æ¿

### åŠ¨ç”»æ•ˆæœ
- æ¶ˆæ¯è¿›å…¥ï¼š`opacity + y + scale` ç»„åˆåŠ¨ç”»
- Better Way å±•å¼€ï¼šé«˜åº¦åŠ¨ç”»
- åŠ è½½æŒ‡ç¤ºå™¨ï¼š3 ä¸ªè·³åŠ¨çš„åœ†ç‚¹ï¼ˆé”™å¼€å»¶è¿Ÿï¼‰
- æŒ‰é’®ç‚¹å‡»ï¼š`scale(0.95)` åé¦ˆ
- æ¨¡å¼åˆ‡æ¢é¢æ¿ï¼šæ·¡å…¥ + ç¼©æ”¾åŠ¨ç”»

---

## ğŸ”§ æŠ€æœ¯å®ç°

### å‰ç«¯ï¼ˆModuleSalon.tsxï¼‰

```typescript
// æ¨¡å¼é…ç½®
const AI_MODES = {
  professional: { name, icon, description, systemPrompt, openingHook },
  arrogant: { ... },
  romantic: { ... }
};

// çŠ¶æ€ç®¡ç†
const [currentMode, setCurrentMode] = useState<AIMode>('professional');
const [messages, setMessages] = useState<Message[]>([]);
const [membershipType] = useState(() => localStorage.getItem('membershipType'));

// æƒé™åˆ¤æ–­
const hasAccess = membershipType === 'å¹´åº¦ä¼šå‘˜' || membershipType === 'æ°¸ä¹…ä¼šå‘˜';
const canSwitchMode = membershipType === 'æ°¸ä¹…ä¼šå‘˜';
```

### åç«¯ï¼ˆ/api/ai-chat/route.tsï¼‰

```typescript
// æ¥æ”¶å‚æ•°
const { message, mode, systemPrompt, videoContext, conversationHistory } = await request.json();

// æ„å»ºå¢å¼ºæç¤ºè¯
const enhancedSystemPrompt = `${systemPrompt}

VIDEO CONTEXT:
Title: ${videoContext.title}
Transcript: ${videoContext.transcript}
Key Vocabulary: ${videoContext.vocabulary}

INSTRUCTIONS:
1. Reference the video content naturally
2. Help practice vocabulary from the video
3. Provide gentle corrections
4. Keep responses concise (2-4 sentences)
5. Stay in character based on mode (${mode})
`;

// è°ƒç”¨ DeepSeek API
const response = await fetch(DEEPSEEK_API_URL, {
  body: JSON.stringify({
    model: 'deepseek-chat',
    messages: [
      { role: 'system', content: enhancedSystemPrompt },
      ...conversationHistory,
      { role: 'user', content: message }
    ],
    temperature: mode === 'arrogant' ? 0.9 : mode === 'romantic' ? 0.85 : 0.7,
    max_tokens: 300,
  }),
});

// è¿”å›ç»“æœ
return NextResponse.json({
  success: true,
  reply: aiReply,
  correction: extractedCorrection, // è‡ªåŠ¨æå–çš„çº é”™å»ºè®®
  mode: mode,
});
```

---

## ğŸ“ å¾…å®Œæˆçš„ä»»åŠ¡

### 1. æ·»åŠ èŠå¤©èƒŒæ™¯å›¾ç‰‡

éœ€è¦åœ¨ `public/images/chat-bg/` ç›®å½•ä¸‹æ·»åŠ ï¼š
- `business.jpg` - å•†ä¸šæ¨¡å¼èƒŒæ™¯ï¼ˆæ·±è‰²çº¹ç†ï¼‰
- æˆ–è€…ä½¿ç”¨ç°æœ‰çš„ `businessbg_æ¨ªå±.avif`

**ä¸´æ—¶æ–¹æ¡ˆ**ï¼š
```typescript
// å¦‚æœæ²¡æœ‰ä¸“é—¨çš„èƒŒæ™¯å›¾ï¼Œå¯ä»¥å¤ç”¨ç°æœ‰å›¾ç‰‡
backgroundImage: 'url(/images/businessbg_æ¨ªå±.avif)'
```

### 2. æ·»åŠ  Gabby å¤´åƒ

å½“å‰ä½¿ç”¨æ¸å˜è‰²å ä½ç¬¦ï¼š
```typescript
<div className="w-full h-full bg-gradient-to-br from-purple-400 to-pink-400">
  G
</div>
```

**å»ºè®®**ï¼š
- è®¾è®¡ä¸€ä¸ª Gabby çš„å¤´åƒå›¾æ ‡
- æˆ–ä½¿ç”¨ AI ç”Ÿæˆçš„å¤´åƒ
- æ”¾åœ¨ `public/images/gabby-avatar.png`

### 3. ä¼˜åŒ–æ¨¡ç³Šæ¶ˆæ¯ç”Ÿæˆ

å½“å‰ä½¿ç”¨å›ºå®šæ–‡æœ¬ï¼š
```typescript
content: "That is an interesting perspective. However, in a professional context..."
```

**æ”¹è¿›æ–¹æ¡ˆ**ï¼š
- ç”Ÿæˆéšæœºé•¿åº¦çš„å‡æ–‡æœ¬
- æˆ–è°ƒç”¨ API ä½†åªè¿”å›å‰ 50 ä¸ªå­—ç¬¦
- å¢åŠ çœŸå®æ„Ÿ

### 4. é›†æˆçœŸå®ä¼šå‘˜çŠ¶æ€

å½“å‰ä» localStorage è¯»å–ï¼š
```typescript
localStorage.getItem('membershipType')
```

**ç”Ÿäº§ç¯å¢ƒ**ï¼š
- ä»åç«¯ API è·å–ä¼šå‘˜çŠ¶æ€
- é›†æˆå…‘æ¢ç ç³»ç»Ÿ
- å®æ—¶éªŒè¯æƒé™

---

## ğŸ§ª æµ‹è¯•æ–¹æ³•

### æµ‹è¯•ä¸åŒä¼šå‘˜ç±»å‹

åœ¨æµè§ˆå™¨æ§åˆ¶å°æ‰§è¡Œï¼š

```javascript
// æµ‹è¯•å­£åº¦ä¼šå‘˜ï¼ˆæ¨¡ç³Šå›å¤ï¼‰
localStorage.setItem('membershipType', 'å­£åº¦ä¼šå‘˜');
location.reload();

// æµ‹è¯•å¹´åº¦ä¼šå‘˜ï¼ˆæ¸…æ™°å›å¤ï¼Œæ— æ¨¡å¼åˆ‡æ¢ï¼‰
localStorage.setItem('membershipType', 'å¹´åº¦ä¼šå‘˜');
location.reload();

// æµ‹è¯•æ°¸ä¹…ä¼šå‘˜ï¼ˆå®Œæ•´åŠŸèƒ½ï¼‰
localStorage.setItem('membershipType', 'æ°¸ä¹…ä¼šå‘˜');
location.reload();
```

### æµ‹è¯•æ¨¡å¼åˆ‡æ¢

1. è®¾ç½®ä¸ºæ°¸ä¹…ä¼šå‘˜
2. è¿›å…¥ä»»æ„è¯¾ç¨‹çš„ SALON æ¨¡å—
3. ç‚¹å‡»å³ä¸Šè§’åˆ·æ–°å›¾æ ‡
4. é€‰æ‹©ä¸åŒæ¨¡å¼
5. è§‚å¯Ÿï¼š
   - èƒŒæ™¯å˜åŒ–
   - å¼€åœºç™½å˜åŒ–
   - AI å›å¤é£æ ¼å˜åŒ–

---

## ğŸ¯ å•†ä¸šåŒ–ç­–ç•¥

### è½¬åŒ–æ¼æ–—

1. **å­£åº¦ä¼šå‘˜ä½“éªŒ**ï¼š
   - å¯ä»¥è¾“å…¥æ¶ˆæ¯ï¼ˆé™ä½é—¨æ§›ï¼‰
   - çœ‹åˆ°æ¨¡ç³Šå›å¤ï¼ˆæ¿€å‘å¥½å¥‡ï¼‰
   - æ˜¾ç¤º "Upgrade to View" æç¤º
   - **è½¬åŒ–ç›®æ ‡**ï¼šå‡çº§åˆ°å¹´åº¦ä¼šå‘˜

2. **å¹´åº¦ä¼šå‘˜ä½“éªŒ**ï¼š
   - å®Œæ•´çš„ AI å¯¹è¯åŠŸèƒ½
   - Better Way çº é”™åŠŸèƒ½
   - çœ‹åˆ°æ°¸ä¹…ä¼šå‘˜çš„æ¨¡å¼åˆ‡æ¢æŒ‰é’®ï¼ˆç°è‰²ï¼‰
   - æ˜¾ç¤º "Mode switching available for æ°¸ä¹…ä¼šå‘˜"
   - **è½¬åŒ–ç›®æ ‡**ï¼šå‡çº§åˆ°æ°¸ä¹…ä¼šå‘˜

3. **æ°¸ä¹…ä¼šå‘˜ä½“éªŒ**ï¼š
   - æ‰€æœ‰åŠŸèƒ½æ— é™åˆ¶
   - 3 ç§æ¨¡å¼è‡ªç”±åˆ‡æ¢
   - æ— æ¯æ—¥æ¶ˆæ¯é™åˆ¶
   - **ç•™å­˜ç›®æ ‡**ï¼šæŒç»­ä½¿ç”¨ï¼Œå£ç¢‘ä¼ æ’­

---

## ğŸ“Š æ•°æ®è¿½è¸ªå»ºè®®

å»ºè®®æ·»åŠ ä»¥ä¸‹åŸ‹ç‚¹ï¼š

```typescript
// æ¨¡å¼åˆ‡æ¢
analytics.track('salon_mode_switched', {
  from: oldMode,
  to: newMode,
  membershipType: membershipType
});

// æ¶ˆæ¯å‘é€
analytics.track('salon_message_sent', {
  mode: currentMode,
  membershipType: membershipType,
  messageLength: input.length
});

// å‡çº§æç¤ºç‚¹å‡»
analytics.track('salon_upgrade_clicked', {
  from: membershipType,
  context: 'blurred_message' // æˆ– 'mode_switch'
});
```

---

## ğŸš€ éƒ¨ç½²æ¸…å•

- [ ] ç¡®è®¤ DEEPSEEK_API_KEY ç¯å¢ƒå˜é‡å·²é…ç½®
- [ ] æ·»åŠ èŠå¤©èƒŒæ™¯å›¾ç‰‡
- [ ] æ·»åŠ  Gabby å¤´åƒ
- [ ] é›†æˆçœŸå®ä¼šå‘˜çŠ¶æ€ API
- [ ] æµ‹è¯•ä¸‰ç§æ¨¡å¼çš„ AI å›å¤è´¨é‡
- [ ] æµ‹è¯•ä¼šå‘˜æƒé™æ§åˆ¶
- [ ] æ·»åŠ æ•°æ®åŸ‹ç‚¹
- [ ] æ€§èƒ½æµ‹è¯•ï¼ˆAPI å“åº”æ—¶é—´ï¼‰

---

## ğŸ’¡ æœªæ¥ä¼˜åŒ–æ–¹å‘

1. **è¯­éŸ³è¾“å…¥**ï¼šæ”¯æŒè¯­éŸ³è½¬æ–‡å­—
2. **è¯­éŸ³å›å¤**ï¼šAI å›å¤è½¬è¯­éŸ³æ’­æ”¾
3. **å¯¹è¯ä¿å­˜**ï¼šä¿å­˜å†å²å¯¹è¯è®°å½•
4. **åˆ†äº«åŠŸèƒ½**ï¼šåˆ†äº«ç²¾å½©å¯¹è¯ç‰‡æ®µ
5. **æˆå°±ç³»ç»Ÿ**ï¼šå¯¹è¯é‡Œç¨‹ç¢‘å¥–åŠ±
6. **AI äººæ ¼å®šåˆ¶**ï¼šæ°¸ä¹…ä¼šå‘˜å¯è‡ªå®šä¹‰ AI äººæ ¼
7. **å¤šè¯­è¨€æ”¯æŒ**ï¼šæ”¯æŒå…¶ä»–è¯­è¨€å­¦ä¹ 

---

## ğŸ“ æŠ€æœ¯æ”¯æŒ

å¦‚æœ‰é—®é¢˜ï¼Œè¯·æ£€æŸ¥ï¼š
1. DeepSeek API Key æ˜¯å¦æœ‰æ•ˆ
2. ç¯å¢ƒå˜é‡æ˜¯å¦æ­£ç¡®é…ç½®
3. æµè§ˆå™¨æ§åˆ¶å°æ˜¯å¦æœ‰é”™è¯¯
4. ç½‘ç»œè¯·æ±‚æ˜¯å¦æˆåŠŸï¼ˆNetwork é¢æ¿ï¼‰

**å¸¸è§é—®é¢˜**ï¼š
- **AI ä¸å›å¤**ï¼šæ£€æŸ¥ API Key å’Œç½‘ç»œè¿æ¥
- **æ¨¡å¼åˆ‡æ¢æ— æ•ˆ**ï¼šç¡®è®¤ä¼šå‘˜ç±»å‹ä¸º"æ°¸ä¹…ä¼šå‘˜"
- **èƒŒæ™¯å›¾ç‰‡ä¸æ˜¾ç¤º**ï¼šæ£€æŸ¥å›¾ç‰‡è·¯å¾„æ˜¯å¦æ­£ç¡®







